% movie making script for group average, multiple views

subj = 'fsaverage';
srcfile = 'groupavg_group_ucsd_cond_8_mean';
subjdir = '/space/md4/2/halgdev/analysis/MRI_UCSD/FWIO_MRI';
indir = '/space/md4/2/halgdev/analysis/MEG_UCSD/FWIO_MEG';
outdir = pwd;

%tfirst = 275;
%tlast = 275;
tfirst = 175;
tlast = 320;
fthresh = 0;
fslope = 0.5;
fmid = 5.5;
image_size = '400x200';

outstem = 'multisubj';

filelist = {...
  'fwio_control003_061206/mghfiles/ts_dspm_carrie_amd_grad_bem_ncov16_cond08-spsm20-sm20-ico7-sm3-lh.mgh'...
  'fwio_control003_061206/mghfiles/ts_dspm_carrie_amd_grad_bem_ncov16_cond08-spsm20-sm20-ico7-sm3-rh.mgh'...
  'fwio_control004_061218/mghfiles/ts_dspm_carrie_amd_grad_bem_ncov16_cond08-spsm20-sm20-ico7-sm3-lh.mgh'...
  'fwio_control004_061218/mghfiles/ts_dspm_carrie_amd_grad_bem_ncov16_cond08-spsm20-sm20-ico7-sm3-rh.mgh'...
  'fwio_control006_070124/mghfiles/ts_dspm_carrie_amd_grad_bem_ncov16_cond08-spsm20-sm20-ico7-sm3-lh.mgh'...
  'fwio_control006_070124/mghfiles/ts_dspm_carrie_amd_grad_bem_ncov16_cond08-spsm20-sm20-ico7-sm3-rh.mgh'...
  'fwio_control007_070212/mghfiles/ts_dspm_carrie_amd_grad_bem_ncov16_cond08-spsm20-sm20-ico7-sm3-lh.mgh'...
  'fwio_control007_070212/mghfiles/ts_dspm_carrie_amd_grad_bem_ncov16_cond08-spsm20-sm20-ico7-sm3-rh.mgh'...
  'fwio_control008_070126/mghfiles/ts_dspm_carrie_amd_grad_bem_ncov16_cond08-spsm20-sm20-ico7-sm3-lh.mgh'...
  'fwio_control008_070126/mghfiles/ts_dspm_carrie_amd_grad_bem_ncov16_cond08-spsm20-sm20-ico7-sm3-rh.mgh'...
};
            
hemilist =  {...
  'lh' 'rh'...
  'lh' 'rh'...
  'lh' 'rh'...
  'lh' 'rh'...
  'lh' 'rh'...
};

viewlist = 'lat';

labellist = {...
  'subj 3 lh' 'subj 3 rh'...
  'subj 4 lh' 'subj 4 rh'...
  'subj 6 lh' 'subj 6 rh'...
  'subj 7 lh' 'subj 7 rh'...
  'subj 8 lh' 'subj 8 rh'...
};

nrows = 5;
ncols = 2;

ts_surf2movie(...
  subj,...
  filelist,...
  'SUBJECTS_DIR',subjdir,...
  'label',labellist,...
  'hemi',hemilist,...
  'view',viewlist,...
  'indir',indir,...
  'outdir',outdir,...
  'image_size', image_size,...
  'outstem', outstem,...
  'sparsesmooth',0,...
  'postsmooth',0,...
  'fmid',fmid,...
  'fthresh',fthresh,...
  'fslope',fslope,...
  'tfirst',tfirst,...
  'tlast',tlast,...
  'nrows',nrows,'ncols',ncols,...
  'trim',1,...
  'hashnames',1, ...
  'timestamp','none'...
);


